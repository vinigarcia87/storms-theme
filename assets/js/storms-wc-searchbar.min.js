"use strict";document.getElementById("s").addEventListener("keyup",(function(e){if("undefined"==typeof storms_wc_searchbar_vars)return!1;var t=e.target.value,r=document.getElementsByName("post_type")[0].value,s=document.querySelector(".storms-wc-searchbar-results"),c=document.querySelector("#searchsubmit").offsetWidth;document.querySelector(".storms-wc-searchbar-loader-image").style.right=10+c+"px";var n=function(){return document.querySelector(".storms-wc-searchbar-loader-image").classList.toggle("hidden")},o=function(e){var t=document.querySelector(".storms-wc-searchbar-results-container");"hide"===e?t.classList.add("hidden"):"show"===e&&t.classList.remove("hidden")};if(document.querySelector(".storms-wc-searchbar-results-container").style.width=document.getElementById("storms-wc-searchbar-form").offsetWidth+"px",t.length<3)return o("hide"),void(s.innerHTML="");n();var a={action:"storms_wc_searchbar_load_posts",security:storms_wc_searchbar_vars.storms_wc_searchbar_nonce,s:t,post_type:r};fetch(storms_wc_searchbar_vars.ajax_url,{method:"POST",body:new URLSearchParams(a).toString(),headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){return e.text()})).then((function(e){s.innerHTML=e,n(),o("show")})).catch((function(e){console.warn("Something went wrong.",e),s.innerHTML="",n()}))})),document.getElementById("s").addEventListener("click",(function(e){if(e.target.value.length>=3){var t=new Event("keyup");e.target.dispatchEvent(t)}})),document.querySelector(".storms-wc-searchbar-results").addEventListener("click",(function(e){e.target.closest(".storms-wc-searchbar-show-more-results")&&document.getElementById("storms-wc-searchbar-form").submit()})),document.body.addEventListener("click",(function(e){e.target.closest(".storms-wc-searchbar-container")||document.querySelector(".storms-wc-searchbar-results-container").classList.add("hidden")}));
//# sourceMappingURL=maps/storms-wc-searchbar.min.js.map
