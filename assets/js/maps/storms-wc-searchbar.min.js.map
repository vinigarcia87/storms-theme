{"version":3,"file":"../storms-wc-searchbar.min.js","names":["document","getElementById","addEventListener","e","storms_wc_searchbar_vars","value","target","product_type","getElementsByName","results_container","querySelector","searchBtnWidth","offsetWidth","style","right","toggleSpinner","classList","toggle","toggleResults","action","add","remove","width","length","innerHTML","_data","security","storms_wc_searchbar_nonce","s","post_type","fetch","ajax_url","method","body","URLSearchParams","toString","headers","then","res","text","data","err","console","warn","event","Event","dispatchEvent","closest","submit"],"sources":["storms-wc-searchbar.min.js"],"mappings":"AAAA,aAEAA,SAASC,eAAe,KAAKC,iBAAiB,SAAS,SAAUC,GAG/D,GAAwC,oBAA7BC,yBACT,OAAO,EAGT,IAAIC,EAAQF,EAAEG,OAAOD,MACjBE,EAAeP,SAASQ,kBAAkB,aAAa,GAAGH,MAC1DI,EAAoBT,SAASU,cAAc,gCAE3CC,EAAiBX,SAASU,cAAc,iBAAiBE,YAC7DZ,SAASU,cAAc,qCAAqCG,MAAMC,MAAQ,GAAKH,EAAiB,KAEhG,IAAII,EAAgB,WAClB,OAAOf,SAASU,cAAc,qCAAqCM,UAAUC,OAAO,SACtF,EAEIC,EAAgB,SAAuBC,GACzC,IAAIV,EAAoBT,SAASU,cAAc,0CAEhC,SAAXS,EACFV,EAAkBO,UAAUI,IAAI,UACZ,SAAXD,GACTV,EAAkBO,UAAUK,OAAO,SAEvC,EAIA,GAFArB,SAASU,cAAc,0CAA0CG,MAAMS,MAAQtB,SAASC,eAAe,4BAA4BW,YAAc,KAE7IP,EAAMkB,OAAS,EAGjB,OAFAL,EAAc,aACdT,EAAkBe,UAAY,IAIhCT,IACA,IAAIU,EAAQ,CACVN,OAAQ,iCACRO,SAAUtB,yBAAyBuB,0BACnCC,EAAGvB,EACHwB,UAAWtB,GAEbuB,MAAM1B,yBAAyB2B,SAAU,CACvCC,OAAQ,OAGRC,KAAM,IAAIC,gBAAgBT,GAAOU,WACjCC,QAAS,CACP,eAAgB,uCAEjBC,MAAK,SAAUC,GAChB,OAAOA,EAAIC,MACb,IAAGF,MAAK,SAAUG,GAChB/B,EAAkBe,UAAYgB,EAC9BzB,IACAG,EAAc,OAChB,IAAU,OAAE,SAAUuB,GAEpBC,QAAQC,KAAK,wBAAyBF,GACtChC,EAAkBe,UAAY,GAC9BT,GACF,GACF,IACAf,SAASC,eAAe,KAAKC,iBAAiB,SAAS,SAAUC,GAG/D,GAFYA,EAAEG,OAAOD,MAEXkB,QAAU,EAAG,CAErB,IAAIqB,EAAQ,IAAIC,MAAM,SAEtB1C,EAAEG,OAAOwC,cAAcF,EACzB,CACF,IACA5C,SAASU,cAAc,gCAAgCR,iBAAiB,SAAS,SAAUC,GAC5EA,EAAEG,OAAOyC,QAAQ,2CAG5B/C,SAASC,eAAe,4BAA4B+C,QAExD,IACAhD,SAASiC,KAAK/B,iBAAiB,SAAS,SAAUC,GACnCA,EAAEG,OAAOyC,QAAQ,mCAG5B/C,SAASU,cAAc,0CAA0CM,UAAUI,IAAI,SAEnF","sourcesContent":["\"use strict\";document.getElementById(\"s\").addEventListener(\"keyup\",(function(e){if(\"undefined\"==typeof storms_wc_searchbar_vars)return!1;var t=e.target.value,r=document.getElementsByName(\"post_type\")[0].value,s=document.querySelector(\".storms-wc-searchbar-results\"),n=function(){return document.querySelector(\".storms-wc-searchbar-loader-image\").classList.toggle(\"hidden\")},c=function(e){var t=document.querySelector(\".storms-wc-searchbar-results-container\");\"hide\"===e?t.classList.add(\"hidden\"):\"show\"===e&&t.classList.remove(\"hidden\")};if(document.querySelector(\".storms-wc-searchbar-results-container\").style.width=document.getElementById(\"storms-wc-searchbar-form\").offsetWidth+\"px\",t.length<3)return c(\"hide\"),void(s.innerHTML=\"\");n();var o={action:\"storms_wc_searchbar_load_posts\",security:storms_wc_searchbar_vars.storms_wc_searchbar_nonce,s:t,post_type:r};fetch(storms_wc_searchbar_vars.ajax_url,{method:\"POST\",body:new URLSearchParams(o).toString(),headers:{\"Content-type\":\"application/x-www-form-urlencoded\"}}).then((function(e){return e.text()})).then((function(e){s.innerHTML=e,n(),c(\"show\")})).catch((function(e){console.warn(\"Something went wrong.\",e),s.innerHTML=\"\",n()}))})),document.getElementById(\"s\").addEventListener(\"click\",(function(e){if(e.target.value.length>=3){var t=new Event(\"keyup\");e.target.dispatchEvent(t)}})),document.querySelector(\".storms-wc-searchbar-results\").addEventListener(\"click\",(function(e){e.target.closest(\".storms-wc-searchbar-show-more-results\")&&document.getElementById(\"storms-wc-searchbar-form\").submit()})),document.body.addEventListener(\"click\",(function(e){e.target.closest(\".storms-wc-searchbar-container\")||document.querySelector(\".storms-wc-searchbar-results-container\").classList.add(\"hidden\")}));\n//# sourceMappingURL=maps/storms-wc-searchbar.min.js.map\n"]}