"use strict";jQuery(function(d){if("undefined"==typeof storms_wc_shipping_calculator_in_product_vars)return!1;function g(o,e){(e=e||(d(".woocommerce-notices-wrapper:first")||d(".cart-empty").closest(".woocommerce")||d(".woocommerce-cart-form"))).prepend(o)}function v(){var o=d("#shipping-calculator-rates");0<o.length&&o.remove()}d("#calc_shipping_postcode").mask("00000-000").attr("type","tel"),d(document.body).on("click",'button[name="calc_shipping"]',function(o){o.preventDefault();var e,c,a=d(this).parents(".shipping-calculator-form"),t=d("#calc_shipping_country").val(),r=d("#calc_shipping_state").val(),s=d("#calc_shipping_city").val(),n=d("#calc_shipping_postcode").val(),i=(e=d('[name="add-to-cart"]'),0<(c=d('[name="variation_id"]')).length?0<c.val()&&c.val():0<e.length&&0<e.val()&&e.val());if(0!==i){var l,p,u=d(".quantity input.qty"),m=u.length?u.val():1,_={security:d("#storms-wc-scip-nonce").val(),country:t,state:r,city:s,postcode:n,product_id:i,quantity:m};(p=l=a).is(".processing")||p.parents(".processing").length||l.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),d.ajax({url:storms_wc_shipping_calculator_in_product_vars.ajax_url.toString()+"?action=storms_wc_scip",type:"POST",data:_,dataType:"json",success:function(o){d(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),o&&(o.success?(v(),d(".shipping-calculator-form").after('<table id="shipping-calculator-rates" class="shop_table shop_table_responsive ">'+o.data.html+"</table>")):g('<div class="woocommerce-error" role="alert">'+o.data.error+"</div>"))},complete:function(){a.removeClass("processing").unblock()},error:function(o){v(),storms_wc_shipping_calculator_in_product_vars.debug_mode&&console.log(o.responseText)}})}else g('<div class="woocommerce-error" role="alert">Por favor, escolha uma opção antes de calcular o frete.</div>')})});
//# sourceMappingURL=maps/storms-wc-shipping-calculator-in-product.min.js.map
